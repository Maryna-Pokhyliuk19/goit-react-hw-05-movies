{"version":3,"file":"static/js/624.e8b87472.chunk.js","mappings":"gQACA,EAA4B,6BAA5B,EAAsE,8B,SCEzDA,EAAY,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC1B,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KAYA,OACE,kBAAMH,SAXa,SAAAI,GACnBA,EAAMC,iBACNL,EAASE,GACTC,EAAU,GACX,EAOC,WACE,kBACEG,UAAWC,EACXC,KAAK,OACLC,YAAY,gBACZC,MAAOR,EACPS,SAXmB,SAAAP,GACvBD,EAAUC,EAAMQ,cAAcF,MAAMG,cACrC,KAWG,mBAAQP,UAAWC,EAAgBC,KAAK,SAAxC,sBAKL,E,2BC7BD,EAA6B,2BCMhBM,EAAS,WAAO,IAAD,EAC1B,GAA4Bb,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOc,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MAEjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAM,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAmB5C,OAZAC,EAAAA,EAAAA,YAAU,YACHF,GAAWpB,IAGhB,mCAAC,8GAE0BuB,EAAAA,EAAAA,IAAaH,GAAkBpB,GAFzD,OAESwB,EAFT,OAGGV,EAAUU,GAHb,uGAAD,sDAMD,GAAE,CAACJ,EAAQpB,KAGV,iCACE,SAACH,EAAD,CAAWC,SAnBU,SAAA2B,GACvBxB,EAAUwB,GACVN,EAA0B,KAAVM,EAAe,CAAEA,MAAAA,GAAU,CAAC,EAC7C,KAiBG,wBACGZ,EAAOa,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,eAAP,OACV,yBACE,SAAC,KAAD,CACExB,UAAWC,EACXwB,GAAE,UAAKF,GACPG,MAAO,CAAEC,KAAMhB,GAHjB,SAKGa,KANID,EADC,QAcnB,EAED,G,8LClDAK,EAAAA,GAAAA,SAAAA,QAAyB,+BACzB,IAAMC,EAAU,mCAEHC,EAAW,mCAAG,6FACnBC,EAAU,CACdC,OAAQ,CACNC,QAASJ,IAHY,SAMFD,EAAAA,GAAAA,IAAU,sBAAuBG,GAN/B,cAMnBG,EANmB,yBAOlBA,EAASC,KAAKC,SAPI,2CAAH,qDAUXC,EAAY,mCAAG,WAAMC,GAAN,gFACpBP,EAAU,CACdC,OAAQ,CACNC,QAASJ,EACTU,SAAU,UAJY,SAOHX,EAAAA,GAAAA,IAAA,iBAAoBU,GAAYP,GAP7B,cAOpBG,EAPoB,yBAQnBA,EAASC,MARU,2CAAH,sDAWZK,EAAW,mCAAG,WAAMF,GAAN,gFACnBP,EAAU,CACdC,OAAQ,CACNC,QAASJ,EACTU,SAAU,UAJW,SAOFX,EAAAA,GAAAA,IAAA,iBAAoBU,EAApB,YAAwCP,GAPtC,cAOnBG,EAPmB,yBAQlBA,EAASC,KAAKM,MARI,2CAAH,sDAWXC,EAAc,mCAAG,WAAMJ,GAAN,gFACtBP,EAAU,CACdC,OAAQ,CACNC,QAASJ,EACTU,SAAU,UAJc,SAOLX,EAAAA,GAAAA,IAAA,iBAAoBU,EAApB,YAAwCP,GAPnC,cAOtBG,EAPsB,yBAQrBA,EAASC,KAAKC,SARO,2CAAH,sDAWdjB,EAAY,mCAAG,WAAME,GAAN,gFACpBU,EAAU,CACdC,OAAQ,CACNC,QAASJ,EACTU,SAAU,QACVlB,MAAAA,IALsB,SAQHO,EAAAA,GAAAA,IAAA,eAA0BG,GARvB,cAQpBG,EARoB,yBASnBA,EAASC,KAAKC,SATK,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.jsx","webpack://react-homework-template/./src/components/pages/Movies/Movies.module.css?078c","components/pages/Movies/Movies.jsx","components/services/api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"formInput\":\"SearchBar_formInput__bdzt7\",\"formButton\":\"SearchBar_formButton__C-ydM\"};","import { useState } from 'react';\nimport css from './SearchBar.module.css';\n\nexport const SearchBar = ({ onSubmit }) => {\n  const [search, setSearch] = useState('');\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit(search);\n    setSearch('');\n  };\n\n  const handleNameChange = event => {\n    setSearch(event.currentTarget.value.toLowerCase());\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        className={css.formInput}\n        type=\"text\"\n        placeholder=\"Enter film...\"\n        value={search}\n        onChange={handleNameChange}\n      />\n      <button className={css.formButton} type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesLink\":\"Movies_moviesLink__MIHcy\"};","import { SearchBar } from 'components/SearchBar/SearchBar';\nimport { searchMovies } from 'components/services/api';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { NavLink, useLocation, useSearchParams } from 'react-router-dom';\nimport css from './Movies.module.css';\n\nexport const Movies = () => {\n  const [search, setSearch] = useState('');\n  const [movies, setMovies] = useState([]);\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const filter = searchParams.get('query') ?? '';\n\n  const handleFormSubmit = query => {\n    setSearch(query);\n    setSearchParams(query !== '' ? { query } : {});\n  };\n\n  useEffect(() => {\n    if (!filter && !search) {\n      return;\n    }\n    (async function searchMovie() {\n      try {\n        const oneMovie = await searchMovies(filter ? filter : search);\n        setMovies(oneMovie);\n      } catch (error) {}\n    })();\n  }, [filter, search]);\n\n  return (\n    <>\n      <SearchBar onSubmit={handleFormSubmit} />\n      <ul>\n        {movies.map(({ id, original_title }) => (\n          <li key={id}>\n            <NavLink\n              className={css.moviesLink}\n              to={`${id}`}\n              state={{ home: location }}\n            >\n              {original_title}\n            </NavLink>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '80621b5b2d3f86fe2da6b1cfe7d912cf';\n\nexport const getTrending = async () => {\n  const options = {\n    params: {\n      api_key: API_KEY,\n    },\n  };\n  const response = await axios.get('/trending/movie/day', options);\n  return response.data.results;\n};\n\nexport const getMovieById = async movie_id => {\n  const options = {\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n    },\n  };\n  const response = await axios.get(`/movie/${movie_id}`, options);\n  return response.data;\n};\n\nexport const getCastById = async movie_id => {\n  const options = {\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n    },\n  };\n  const response = await axios.get(`/movie/${movie_id}/credits`, options);\n  return response.data.cast;\n};\n\nexport const getReviewsById = async movie_id => {\n  const options = {\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n    },\n  };\n  const response = await axios.get(`/movie/${movie_id}/reviews`, options);\n  return response.data.results;\n};\n\nexport const searchMovies = async query => {\n  const options = {\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n      query,\n    },\n  };\n  const response = await axios.get(`search/movie`, options);\n  return response.data.results;\n};\n"],"names":["SearchBar","onSubmit","useState","search","setSearch","event","preventDefault","className","css","type","placeholder","value","onChange","currentTarget","toLowerCase","Movies","movies","setMovies","location","useLocation","useSearchParams","searchParams","setSearchParams","filter","get","useEffect","searchMovies","oneMovie","query","map","id","original_title","to","state","home","axios","API_KEY","getTrending","options","params","api_key","response","data","results","getMovieById","movie_id","language","getCastById","cast","getReviewsById"],"sourceRoot":""}